autoload -Uz vcs_info

zstyle ':vcs_info:*' enable git
zstyle ':vcs_info:*' check-for-changes true
zstyle ':vcs_info:*' stagedstr "+"
zstyle ':vcs_info:*' unstagedstr "*"
zstyle ':vcs_info:git*' formats "%F{white}(%F{red}%B%b%u%c%%b%F{white}) "

precmd() {
    # echo "coucou"
    vcs_info
}

setopt PROMPT_SUBST

PROMPT='%B%F{white}[%F{magenta}%n%F{white}]%b %F{blue}%~%f ${vcs_info_msg_0_}%% '
RPROMPT='%B%(?..%F{red}[%?]%f)%b'
